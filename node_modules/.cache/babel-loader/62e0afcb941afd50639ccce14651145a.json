{"ast":null,"code":"var _jsxFileName = \"/Users/johnbenzigar/Downloads/EcommerceProject/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Navbar, Products, Cart, Checkout } from './components';\nimport { commerce } from './lib/commerce';\n\nconst App = () => {\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState({});\n  const [order, setOrder] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const [categories, setCategories] = useState([]);\n  const limit = 50;\n  const categorySlug = 'fashion';\n\n  const fetchCategories = async () => {\n    const {\n      data\n    } = await commerce.categories.list();\n    setCategories(data);\n  };\n\n  const fetchProducts = async () => {\n    const {\n      data\n    } = await commerce.products.list({\n      limit: limit,\n      category_slug: categorySlug\n    });\n    setProducts(data);\n  };\n\n  const fetchCart = async () => {\n    setCart(await commerce.cart.retrieve());\n  };\n\n  const handleAddToCart = async (productId, quantity) => {\n    const item = await commerce.cart.add(productId, quantity);\n    setCart(item.cart);\n  };\n\n  const handleUpdateCartQty = async (lineItemId, quantity) => {\n    const response = await commerce.cart.update(lineItemId, {\n      quantity\n    });\n    setCart(response.cart);\n  };\n\n  const handleRemoveFromCart = async lineItemId => {\n    const response = await commerce.cart.remove(lineItemId);\n    setCart(response.cart);\n  };\n\n  const handleEmptyCart = async () => {\n    const response = await commerce.cart.empty();\n    setCart(response.cart);\n  };\n\n  const refreshCart = async () => {\n    const newCart = await commerce.cart.refresh();\n    setCart(newCart);\n  };\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(checkoutTokenId, newOrder);\n      setOrder(incomingOrder);\n      refreshCart();\n    } catch (error) {\n      setErrorMessage(error.data.error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCart();\n  }, []);\n  console.log(products);\n\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    categories: categories,\n    totalItems: cart.total_items,\n    handleDrawerToggle: handleDrawerToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onAddToCart: handleAddToCart,\n    handleUpdateCartQty: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    onUpdateCartQty: handleUpdateCartQty,\n    onRemoveFromCart: handleRemoveFromCart,\n    onEmptyCart: handleEmptyCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Checkout, {\n    cart: cart,\n    order: order,\n    onCaptureCheckout: handleCaptureCheckout,\n    error: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/johnbenzigar/Downloads/EcommerceProject/src/App.js"],"names":["React","useState","useEffect","CssBaseline","BrowserRouter","Router","Switch","Route","Navbar","Products","Cart","Checkout","commerce","App","mobileOpen","setMobileOpen","products","setProducts","cart","setCart","order","setOrder","errorMessage","setErrorMessage","categories","setCategories","limit","categorySlug","fetchCategories","data","list","fetchProducts","category_slug","fetchCart","retrieve","handleAddToCart","productId","quantity","item","add","handleUpdateCartQty","lineItemId","response","update","handleRemoveFromCart","remove","handleEmptyCart","empty","refreshCart","newCart","refresh","handleCaptureCheckout","checkoutTokenId","newOrder","incomingOrder","checkout","capture","error","message","console","log","handleDrawerToggle","display","total_items"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { Navbar, Products, Cart, Checkout } from './components';\nimport { commerce } from './lib/commerce';\n\nconst App = () => {\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState({});\n  const [order, setOrder] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const [categories, setCategories] = useState([]);\n  \n  const limit = 50;\n  const categorySlug = 'fashion';\n  const fetchCategories = async () => {\n    const { data } = await commerce.categories.list();\n\n    setCategories(data);\n  };\n  \n  const fetchProducts = async () => {\n    const { data } = await commerce.products.list({limit: limit,\n      category_slug: categorySlug,});\n\n    setProducts(data);\n  };\n\n\n  const fetchCart = async () => {\n    setCart(await commerce.cart.retrieve());\n  };\n\n  const handleAddToCart = async (productId, quantity) => {\n    const item = await commerce.cart.add(productId, quantity);\n\n    setCart(item.cart);\n  };\n\n  const handleUpdateCartQty = async (lineItemId, quantity) => {\n    const response = await commerce.cart.update(lineItemId, { quantity });\n\n    setCart(response.cart);\n  };\n\n  const handleRemoveFromCart = async (lineItemId) => {\n    const response = await commerce.cart.remove(lineItemId);\n\n    setCart(response.cart);\n  };\n\n  const handleEmptyCart = async () => {\n    const response = await commerce.cart.empty();\n\n    setCart(response.cart);\n  };\n\n  const refreshCart = async () => {\n    const newCart = await commerce.cart.refresh();\n\n    setCart(newCart);\n  };\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(checkoutTokenId, newOrder);\n\n      setOrder(incomingOrder);\n\n      refreshCart();\n    } catch (error) {\n      setErrorMessage(error.data.error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCart();\n  }, []);\n\n  console.log(products);\n\n  \n\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\n\n  return (\n    <Router>\n      <div style={{ display: 'flex' }}>\n        <CssBaseline />\n        <Navbar categories={categories} totalItems={cart.total_items} handleDrawerToggle={handleDrawerToggle} />\n        <Switch>\n          <Route exact path=\"/\">\n            <Products products={products} onAddToCart={handleAddToCart} handleUpdateCartQty />\n            \n          </Route>\n          <Route exact path=\"/cart\">\n            <Cart cart={cart} onUpdateCartQty={handleUpdateCartQty} onRemoveFromCart={handleRemoveFromCart} onEmptyCart={handleEmptyCart} />\n          </Route>\n          <Route path=\"/checkout\" exact>\n            <Checkout cart={cart} order={order} onCaptureCheckout={handleCaptureCheckout} error={errorMessage} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}