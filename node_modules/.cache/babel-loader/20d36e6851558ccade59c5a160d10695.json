{"ast":null,"code":"var _jsxFileName = \"/Users/johnbenzigar/Downloads/EcommerceProject/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Navbar, Products, Cart, Checkout } from './components';\nimport { commerce } from './lib/commerce';\n\nconst App = () => {\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState({});\n  const [order, setOrder] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const [categories, setCategories] = useState([]);\n\n  const fetchProducts = async () => {\n    const {\n      data\n    } = await commerce.products.list();\n    setProducts(data);\n  };\n\n  const fetchCategories = async () => {\n    const {\n      data\n    } = await commerce.categories.list();\n    setCategories(data);\n  };\n\n  const fetchCart = async () => {\n    setCart(await commerce.cart.retrieve());\n  };\n\n  const handleAddToCart = async (productId, quantity) => {\n    const item = await commerce.cart.add(productId, quantity);\n    setCart(item.cart);\n  };\n\n  const handleUpdateCartQty = async (lineItemId, quantity) => {\n    const response = await commerce.cart.update(lineItemId, {\n      quantity\n    });\n    setCart(response.cart);\n  };\n\n  const handleRemoveFromCart = async lineItemId => {\n    const response = await commerce.cart.remove(lineItemId);\n    setCart(response.cart);\n  };\n\n  const handleEmptyCart = async () => {\n    const response = await commerce.cart.empty();\n    setCart(response.cart);\n  };\n\n  const refreshCart = async () => {\n    const newCart = await commerce.cart.refresh();\n    setCart(newCart);\n  };\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(checkoutTokenId, newOrder);\n      setOrder(incomingOrder);\n      refreshCart();\n    } catch (error) {\n      setErrorMessage(error.data.error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCart();\n  }, []);\n\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    categories: categories,\n    totalItems: cart.total_items,\n    handleDrawerToggle: handleDrawerToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onAddToCart: handleAddToCart,\n    handleUpdateCartQty: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products.ca,\n    onAddToCart: handleAddToCart,\n    handleUpdateCartQty: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    onUpdateCartQty: handleUpdateCartQty,\n    onRemoveFromCart: handleRemoveFromCart,\n    onEmptyCart: handleEmptyCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Checkout, {\n    cart: cart,\n    order: order,\n    onCaptureCheckout: handleCaptureCheckout,\n    error: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/johnbenzigar/Downloads/EcommerceProject/src/App.js"],"names":["React","useState","useEffect","CssBaseline","BrowserRouter","Router","Switch","Route","Navbar","Products","Cart","Checkout","commerce","App","mobileOpen","setMobileOpen","products","setProducts","cart","setCart","order","setOrder","errorMessage","setErrorMessage","categories","setCategories","fetchProducts","data","list","fetchCategories","fetchCart","retrieve","handleAddToCart","productId","quantity","item","add","handleUpdateCartQty","lineItemId","response","update","handleRemoveFromCart","remove","handleEmptyCart","empty","refreshCart","newCart","refresh","handleCaptureCheckout","checkoutTokenId","newOrder","incomingOrder","checkout","capture","error","message","handleDrawerToggle","display","total_items","ca"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { Navbar, Products, Cart, Checkout } from './components';\nimport { commerce } from './lib/commerce';\n\nconst App = () => {\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState({});\n  const [order, setOrder] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const [categories, setCategories] = useState([]);\n  \n  const fetchProducts = async () => {\n    const { data } = await commerce.products.list();\n\n    setProducts(data);\n  };\n\n  const fetchCategories = async () => {\n    const { data } = await commerce.categories.list();\n\n    setCategories(data);\n  };\n  \n\n  const fetchCart = async () => {\n    setCart(await commerce.cart.retrieve());\n  };\n\n  const handleAddToCart = async (productId, quantity) => {\n    const item = await commerce.cart.add(productId, quantity);\n\n    setCart(item.cart);\n  };\n\n  const handleUpdateCartQty = async (lineItemId, quantity) => {\n    const response = await commerce.cart.update(lineItemId, { quantity });\n\n    setCart(response.cart);\n  };\n\n  const handleRemoveFromCart = async (lineItemId) => {\n    const response = await commerce.cart.remove(lineItemId);\n\n    setCart(response.cart);\n  };\n\n  const handleEmptyCart = async () => {\n    const response = await commerce.cart.empty();\n\n    setCart(response.cart);\n  };\n\n  const refreshCart = async () => {\n    const newCart = await commerce.cart.refresh();\n\n    setCart(newCart);\n  };\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(checkoutTokenId, newOrder);\n\n      setOrder(incomingOrder);\n\n      refreshCart();\n    } catch (error) {\n      setErrorMessage(error.data.error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCart();\n  }, []);\n\n  \n\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\n\n  return (\n    <Router>\n      <div style={{ display: 'flex' }}>\n        <CssBaseline />\n        <Navbar categories={categories} totalItems={cart.total_items} handleDrawerToggle={handleDrawerToggle} />\n        <Switch>\n          <Route exact path=\"/\">\n            <Products products={products} onAddToCart={handleAddToCart} handleUpdateCartQty />\n            \n          </Route>\n          <Route exact path='/filter'>\n\n          <Products products={products.ca} onAddToCart={handleAddToCart} handleUpdateCartQty />\n          </Route>\n          \n          <Route exact path=\"/cart\">\n            <Cart cart={cart} onUpdateCartQty={handleUpdateCartQty} onRemoveFromCart={handleRemoveFromCart} onEmptyCart={handleEmptyCart} />\n          </Route>\n          <Route path=\"/checkout\" exact>\n            <Checkout cart={cart} order={order} onCaptureCheckout={handleCaptureCheckout} error={errorMessage} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}